* {
    box-sizing: border-box;
}

body {
    font-family: 'Trebuchet MS', sans-serif;
    background-color: #e0efe7; /* Light green Mahjong table color */
    margin: 0;
    padding: 20px;
    color: #333;
    overflow-x: hidden;
    max-width: 100vw;
}

/* Responsive images and embeds */
img,
video,
iframe {
    max-width: 100%;
    height: auto;
}

/* Better text wrapping for long player names */
li.player-item {
    word-wrap: break-word;
    overflow-wrap: break-word;
}

/* Tournament page layout: controls on left, results on right */
#tournament-page.active {
    display: flex;
    flex-direction: row;
    justify-content: flex-start;
    align-content: flex-start;
    gap: 2em;
}

h1 {
    font-size: 2em;
    text-align: center;
    color: #b22222;
    text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
    margin-bottom: 20px;
    border-bottom: solid black thin;
}
h2 {
    font-size: 1.6em;
    color: #b22222;
    margin-top: 20px;
    text-align: left;
    border-bottom: 2px solid #b22222;
    padding-bottom: 5px;
    margin-bottom: 0.2em;
}

#controls {
    flex: 1 1 0;
    min-width: 0;
}
#controls > div {
    position: relative;
}
#controls h1 {
    font-variant: small-caps;
    text-align: center;
}
#controls button {
    width: 100%;
}
#controls th {
    white-space: nowrap;
    text-align: right;
}
#controls .sliderLabel {
    width: 2em;
    text-align: center;
    overflow: hidden;
}
#controls .sliderLabel input {
  width: 2em;
  font-size: 12pt;
  text-align: center;
  overflow: hidden;
  border: solid #999 thin;
}
#controls #playerNames, #controls #forbiddenPairs, #controls #discouragedGroups {
    width: 100%;
    box-sizing: border-box;
    resize: none;
}
#controls p {
    max-width: 305px;
}

#results {
    flex: 1 1 0;
    min-width: 0;
}
#results .conflictScore {
    font-size: 10pt;
    font-weight: normal;
    float: right;
}
#results .groups {
    display: flex;
    flex-direction: row;
    flex-wrap: wrap;
    justify-content: center;
}
#results .groups .group {
    min-width: 120px;
    margin: 0 15px;
}
#results .groups .group ul {
    margin-top: 0.2em;
    padding-left: 20px;
}

.resultsSummary button {
    float: right;
    margin-left: 1em;
}

input[type=range]::-moz-range-track {
  height: 5px;
  background: #ddd;
  border: none;
  border-radius: 3px;
}

input[type=range]:focus::-moz-range-track {
  background: #ccc;
}

#hide-help-link {
    display: none;
}

.help-text {
    display: none;
    z-index: 10;
    position: absolute;
    box-sizing: border-box;
    left: 100%;
    margin-left: 4px;
    width: 425px;
    background-color: white;
    border: #666 solid thin;
    padding: 1em;
    font-size: smaller;
}

/*
CSS-only loading spinner
source: https://stephanwagner.me/only-css-loading-spinner
*/

@keyframes spinner {
  from {transform: rotate(0deg);}
  to {transform: rotate(360deg);}
}

.spinner {
  position: relative;
}
 
.spinner:before {
  content: '';
  box-sizing: border-box;
  position: absolute;
  top: 50%;
  left: 50%;
  width: 16px;
  height: 16px;
  margin-top: -8px;
  margin-left: -8px;
  border-radius: 50%;
  border: 2px solid #ccc;
  border-top-color: #000;
  animation: spinner .6s linear infinite;
}

/*
Print mode: Something you could hand out to students.
- Full-width results
- Hide controls
- Hide conflict scores
- Hide results footer (timing and export controls)
- Avoid splitting round results across multiple pages
*/
@media print {
  #results { width: unset; }
  #controls { display: none; }
  .conflictScore { display: none; }
  .resultsSummary { display: none; }
  .round { break-inside: avoid; }
}

/*
Mobile responsive styles
*/
@media (max-width: 768px) {
  /* SINGLE COLUMN LAYOUT: Stack controls and results vertically on mobile */
  #tournament-page {
    flex-direction: column;
  }

  #tournament-page.active {
    flex-direction: column;
  }

  body {
    padding: 10px;
  }

  /* Make controls full-width on mobile - appears at top */
  #controls {
    width: 100%;
    max-width: 100%;
    margin-right: 0;
    margin-bottom: 1.5em;
    flex: 0 0 auto;
    order: 1;
  }

  #controls p {
    max-width: 100%;
  }

  /* Make results full-width on mobile - appears below controls */
  #results {
    width: 100%;
    max-width: 100%;
    flex: 0 0 auto;
    order: 2;
  }

  /* Make help text responsive */
  .help-text {
    position: fixed;
    left: 50%;
    top: 50%;
    transform: translate(-50%, -50%);
    width: 90%;
    max-width: 400px;
    margin-left: 0;
    z-index: 1000;
  }

  /* Increase button touch targets */
  #controls button {
    padding: 12px;
    font-size: 16px;
    min-height: 44px; /* iOS recommended touch target */
  }

  /* Make input fields more touch-friendly */
  input[type="text"],
  input[type="number"],
  textarea,
  select {
    font-size: 16px; /* Prevents zoom on iOS */
    padding: 8px;
  }

  /* Adjust scoreboard for mobile */
  #scoreBoard {
    padding: 10px;
  }

  li.player-item {
    width: 100%;
    flex-wrap: wrap;
  }

  li.player-item input {
    width: 80px;
  }

  /* Make groups stack better on mobile */
  #results .groups {
    flex-direction: column;
  }

  #results .groups .group {
    width: 100%;
    min-width: unset;
    margin-bottom: 10px;
  }

  /* Adjust titles for mobile */
  h1 {
    font-size: 1.5em;
  }

  h2 {
    font-size: 1.2em;
  }

  /* Make sliders easier to use on mobile */
  input[type="range"] {
    height: 30px;
  }

  #controls .sliderLabel input {
    font-size: 16px;
    padding: 4px;
  }

  /* Adjust connection status for mobile */
  #connection-status {
    top: 5px !important;
    right: 5px !important;
    padding: 8px 15px !important;
    font-size: 14px !important;
  }

  /* Tournament configuration display */
  #config-display {
    padding: 15px !important;
  }

  #config-display h2 {
    font-size: 1.3em !important;
    margin-bottom: 15px !important;
  }

  #config-display > div:first-of-type {
    flex-direction: column !important;
    gap: 10px !important;
  }

  /* Make timer buttons touch-friendly on mobile */
  .tournament-timer-button {
    padding: 12px 20px;
    font-size: 16px;
    min-height: 44px;
    width: 100%;
    max-width: 100%;
  }

  .timer-link-button {
    padding: 8px 12px;
    font-size: 0.9em;
    min-height: 40px;
    margin-left: 8px;
    white-space: nowrap;
  }

  /* Make table headers wrap better with timer buttons on mobile */
  #results h2 {
    display: flex;
    align-items: center;
    flex-wrap: wrap;
    gap: 8px;
    font-size: 1.3em;
  }

  /* Oka/Uma row responsive */
  .oka-uma-row {
    flex-direction: column !important;
    gap: 15px !important;
  }

  .oka-uma-row > div {
    width: 100% !important;
  }

  /* Uma container on mobile */
  .uma-container {
    justify-content: center;
  }

  /* Input fields - prevent zoom on iOS but keep widths */
  input[type="text"]:not(#okaField):not(#starting_points):not(#chomboField):not(.uma-input):not(#forRoundsBox):not(#groupsBox):not(#ofSizeBox),
  input[type="number"]:not(#okaField):not(#starting_points):not(#chomboField):not(.uma-input):not(#forRoundsBox):not(#groupsBox):not(#ofSizeBox) {
    font-size: 16px !important;
  }

  /* Player list items on mobile */
  li.player-item {
    width: 100% !important;
    max-width: 100% !important;
    font-size: 15px;
  }

  /* Scoreboard on mobile */
  #scoreBoard {
    padding: 15px;
  }

  #scoreBoard li {
    font-size: 15px;
    padding: 10px 5px;
  }

  /* Groups container */
  #results .groups .group {
    padding: 15px;
  }

  #results .groups .group ul {
    padding-left: 0;
  }

  #results .groups .group li {
    margin-bottom: 10px;
  }
}

/* Tablet and small desktop (769px - 1024px) - Two column but narrower */
@media (min-width: 769px) and (max-width: 1024px) {
  #tournament-page.active {
    gap: 1em;
  }

  #controls {
    flex: 0 0 300px;
  }

  #results {
    flex: 1 1 auto;
  }

  #controls p {
    max-width: 100%;
  }

  /* Slightly smaller fields on tablets */
  #starting_points {
    width: 100px;
  }

  #okaField {
    width: 90px;
  }
}

/* Medium tablets (max-width: 900px) - Consider single column */
@media (max-width: 900px) {
  #tournament-page.active {
    flex-direction: column;
  }

  #controls {
    width: 100%;
    max-width: 600px;
    margin: 0 auto 1.5em auto;
  }

  #results {
    width: 100%;
  }
}

/* Very small phones (max-width: 480px) */
@media (max-width: 480px) {
  body {
    padding: 5px;
  }

  h1 {
    font-size: 1.3em;
    margin-bottom: 10px;
  }

  h2 {
    font-size: 1.1em;
  }

  #results h2 {
    font-size: 1em !important;
  }

  #scoreBoard,
  .conflict-score {
    padding: 10px;
  }

  .player-item {
    padding: 8px 0;
    font-size: 14px;
  }

  li.player-item input {
    width: 60px;
    font-size: 14px;
  }

  .small-input {
    width: 35px;
  }

  /* Stack uma fields vertically on very small screens */
  .uma-container {
    flex-wrap: wrap;
    gap: 3px;
  }

  /* Tournament config on very small screens */
  #config-display {
    padding: 10px !important;
  }

  #config-display h2 {
    font-size: 1.1em !important;
  }

  /* Timer buttons on very small screens */
  .tournament-timer-button {
    padding: 10px 15px;
    font-size: 14px;
  }

  .timer-link-button {
    padding: 6px 10px;
    font-size: 0.8em;
    margin-left: 6px;
    margin-top: 4px;
  }

  /* Make table headers more compact */
  #results .groups .group {
    padding: 10px;
  }

  /* Adjust round headers */
  .round h1 {
    font-size: 1.2em;
  }

  .conflictScore {
    font-size: 0.9em;
  }
}

/* Tournament page inline styles */
        .uma-container {
            display: flex; /* Flexbox to arrange Uma's fields in a row */
            gap: 5px; /* Space between the fields */
        }

        .small-input {
            width: 40px; /* Small width for Uma's fields */
        }
        /* Container for each player (li element) */
        li.player-item {
            display: flex;
            justify-content: space-between;  /* Ensures the name and input field are spaced */
            width: 300px; /* Total width you want for name + input */
            padding: 5px;
        }

        /* Ensures the text field is sized dynamically within the given width */
        li.player-item input {
            width: 100px; /* Adjust this to control input field width */
            flex-shrink: 0; /* Prevents shrinking beyond this width */
        }

        /* Optionally, you can style the player's name for better appearance */
        li.player-item span {
            white-space: nowrap; /* Prevents the name from wrapping */
            overflow: hidden;
            text-overflow: ellipsis; /* Adds '...' if the name is too long */
        }
	/* General Page Styling */
/* Body and heading styles merged above */

/* Scoreboard and Conflict Score */
#scoreBoard, .conflict-score {
    background-color: white;
    padding: 20px;
    border-radius: 10px;
    box-shadow: 0px 4px 10px rgba(0, 0, 0, 0.1);
    border: 2px solid #b22222;
    margin: 10px auto;
}

.conflict-score {
    text-align: right;
    font-size: 1.2em;
    margin-right: 10px;
    color: #b22222;
    font-weight: bold;
}

/* Player Fields */
.player-item {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 10px 0;
    border-bottom: 1px solid #b22222;
    margin-bottom: 5px;
}

.player-item:last-child {
    border-bottom: none;
}

.player-item input {
    width: 100px;
    padding: 5px;
    font-size: 1.2em;
    border: 1px solid #ddd;
    border-radius: 5px;
    text-align: right;
    background-color: #f9f9f9;
}

.oka-uma-row {
    display: flex;
    justify-content: flex-start;
    flex-wrap: wrap;
}

.oka-uma-row div {
    text-align: center;
    flex: 0 1 auto;
    margin: 1px;
}

/* Starting Points, Oka, Uma, and Chombo Fields */
#forRoundsBox, #groupsBox, #ofSizeBox {
    width: 80px;
    margin: 10px;
    padding: 10px;
    border: 2px solid #b22222;
    border-radius: 5px;
    font-size: 1.2em;
    background-color: #fff;
    text-align: center;
    color: #333;
}

/* Smaller width fields for Uma */
#uma1, #uma2, #uma3, #uma4 {
    width: 60px;
    margin: 2px;
    padding: 10px;
    border: 2px solid #b22222;
    border-radius: 5px;
    font-size: 1.2em;
    background-color: #fff;
    text-align: center;
    color: #333;
}

#okaField {
    width: 100px;
    margin: 2px;
    padding: 10px;
    border: 2px solid #b22222;
    border-radius: 5px;
    font-size: 1.2em;
    background-color: #fff;
    text-align: center;
    color: #333;
}

#starting_points {
    width: 110px;
    margin: 2px;
    padding: 10px;
    border: 2px solid #b22222;
    border-radius: 5px;
    font-size: 1.2em;
    background-color: #fff;
    text-align: center;
    color: #333;
}

#chomboField {
    width: 70px;
    margin: 2px;
    padding: 10px;
    border: 2px solid #b22222;
    border-radius: 5px;
    font-size: 1.2em;
    background-color: #fff;
    text-align: center;
    color: #333;
}

/* Button Styling */
button {
    background-color: #006400; /* Dark green */
    color: white;
    padding: 15px 25px;
    border: none;
    border-radius: 5px;
    cursor: pointer;
    font-size: 1.2em;
    margin: 20px 0;
    width: 100%;
}

button:hover {
    background-color: #228b22;
    transition: background-color 0.3s ease-in-out;
}

/* Player Names Box */
#playerNames {
    width: 100%;
    padding: 10px;
    border: 2px solid #b22222;
    border-radius: 5px;
    font-size: 1.2em;
    margin: 10px auto;
    color: #333;
    height: 150px;
}

input[type="range"] {
    -webkit-appearance: none;
    width: 100%;
    height: 10px;
    background: #b22222;
    outline: none;
    opacity: 0.8;
    transition: opacity 0.2s;
    margin-bottom: 10px;
}

input[type="range"]::-webkit-slider-thumb {
    -webkit-appearance: none;
    appearance: none;
    width: 25px;
    height: 25px;
    border-radius: 50%;
    background: #fff;
    cursor: pointer;
    border: 2px solid #006400;
}

input[type="range"]::-moz-range-thumb {
    width: 25px;
    height: 25px;
    border-radius: 50%;
    background: #fff;
    cursor: pointer;
    border: 2px solid #006400;
}

input[type="range"]::-webkit-slider-thumb:hover,
input[type="range"]::-moz-range-thumb:hover {
    background-color: #228b22;
}

/* Labels and Spacing */

label {
    font-size: 1.2em;
    color: #b22222;
    display: inline-block;
    width: 180px; /* Adjust width for consistent alignment */
    margin-bottom: 5px;
}

.slider-container {
    display: flex;
    align-items: center;
    margin-bottom: 10px;
}

/* Ensure the slider itself takes up enough width */
input[type="range"] {
    -webkit-appearance: none;
    height: 10px;
    background: #b22222;
    outline: none;
    opacity: 0.8;
    transition: opacity 0.2s;
}

input[type="number"] {
    font-size: 1.2em;
    padding: 5px;
    border-radius: 5px;
    margin-bottom: 10px;
    width: 60px;
}

/* Responsive Design */
@media (max-width: 800px) {

    button {
        padding: 10px 15px;
        font-size: 1em;
    }

    .player-item input {
        width: 70px;
    }
}

	/* Compact the layout */
.compact-slider-row {
    display: flex;
    align-items: center;
    justify-content: space-between;
    margin-bottom: 10px;
}

/* Compact label */
.compact-slider-row label {
    font-size: 1.1em;
    margin-right: 10px;
    width: 150px;
    text-align: right;
}

/* Make sliders smaller */
.compact-slider-row input[type="range"] {
    -webkit-appearance: none;
    width: 150px;
    height: 8px;
    background: #b22222;
    outline: none;
    opacity: 0.8;
    transition: opacity 0.2s;
}

/* Consistent Input Styles */
input[type="number"], input[type="text"] {
    padding: 5px;
    font-size: 1.1em;
    width: 50px; /* Keep input width smaller */
    border: 2px solid #b22222;
    border-radius: 3px;
}

/* Compact the entire section */
#input-section {
    display: flex;
    justify-content: space-between;
    flex-wrap: wrap;
}

/* Small tweaks for space around the Recompute button */
#recompute-button {
    margin: 20px 0;
}

/* Adjust the uma section */
.uma-row input[type="text"] {
    width: 45px;
}


.compact-slider-table {
    width: 95%;
}

.compact-slider-table th {
    text-align: left;
    padding-right: 5px;
        padding-left: 30px;
    white-space: nowrap;
}


.compact-input {
    width: 40px;
    text-align: center;
    border: 1px solid red;
    border-radius: 4px;
}

.compact-slider {
    margin-top: 15px;
}

input[type="range"] {
    -webkit-appearance: none;
    appearance: none;
    width: 100%;
    height: 8px;
    background: #ddd;
    border-radius: 5px;
    outline: none;
    opacity: 0.7;
    transition: opacity 0.2s;
}

input[type="range"]::-webkit-slider-thumb {
    -webkit-appearance: none;
    appearance: none;
    width: 16px;
    height: 16px;
    border-radius: 50%;
    background: #c21f1f;
    cursor: pointer;
}

/* Tournament-wide timer button - at the top */
.tournament-timer-button {
    background-color: #006400;
    color: white;
    border: none;
    padding: 10px 20px;
    border-radius: 5px;
    font-size: 1em;
    font-weight: bold;
    cursor: pointer;
    transition: background-color 0.3s ease-in-out;
}

.tournament-timer-button:hover {
    background-color: #228b22;
}

/* Timer link button styles - inline with table headers */
.timer-link-button {
    background-color: #006400;
    color: white;
    border: none;
    padding: 4px 10px;
    border-radius: 5px;
    font-size: 0.75em;
    font-weight: bold;
    cursor: pointer;
    transition: background-color 0.3s ease-in-out;
    margin-left: 10px;
    vertical-align: middle;
}

.timer-link-button:hover {
    background-color: #228b22;
}


